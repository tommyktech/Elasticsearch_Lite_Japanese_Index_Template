{
  "index_templates" : [
    {
      "name" : "kvs",
      "index_template" : {
        "index_patterns" : [
          "kvs_*"
        ],
        "template" : {
          "settings" : {
            "index" : {
              "max_ngram_diff" : "2",
              "analysis" : {
                "filter" : {
                  "greek_lowercase_filter" : {
                    "type" : "lowercase",
                    "language" : "greek"
                  },
                  "kana_filter" : {
                    "type" : "icu_transform",
                    "id" : "Hiragana-Katakana"
                  },
                  "my_latin_transform" : {
                    "type" : "icu_transform",
                    "id" : "Hiragana-Latin; Katakana-Latin; NFD; [:Nonspacing Mark:] Remove; NFC"
                  },
                  "katakana_readingform" : {
                    "type" : "kuromoji_readingform",
                    "use_romaji" : "false"
                  },
                  "pos_filter" : {
                    "type" : "kuromoji_part_of_speech",
                    "stoptags" : [
                      "助詞-格助詞-一般",
                      "助詞-終助詞"
                    ]
                  },
                  "romaji_readingform" : {
                    "type" : "kuromoji_readingform",
                    "use_romaji" : "true"
                  }
                },
                "analyzer" : {
                  "kuromoji_analyzer" : {
                    "filter" : [
                      "katakana_readingform",
                      "pos_filter",
                      "greek_lowercase_filter",
                      "cjk_width"
                    ],
                    "type" : "custom",
                    "tokenizer" : "kuromoji_user_dict"
                  },
                  "kuromoji_sentence_analyzer" : {
                    "filter" : [
                      "kuromoji_baseform",
                      "katakana_readingform",
                      "greek_lowercase_filter",
                      "kana_filter",
                      "cjk_width"
                    ],
                    "tokenizer" : "kuromoji_user_dict"
                  },
                  "kuromoji_phrase_analyzer" : {
                    "filter" : [
                      "katakana_readingform",
                      "greek_lowercase_filter",
                      "kana_filter",
                      "cjk_width"
                    ],
                    "tokenizer" : "kuromoji_user_dict"
                  },
                  "hiragana_search_analyzer" : {
                    "filter" : [
                      "katakana_readingform",
                      "greek_lowercase_filter",
                      "kana_filter",
                      "cjk_width"
                    ],
                    "tokenizer" : "keyword"
                  },
                  "my_ngram_analyzer" : {
                    "filter" : [
                      "greek_lowercase_filter",
                      "cjk_width",
                      "kana_filter"
                    ],
                    "tokenizer" : "my_ngram_tokenizer"
                  }
                },
                "tokenizer" : {
                  "my_ngram_tokenizer" : {
                    "type" : "ngram",
                    "min_gram" : "1",
                    "max_gram" : "3"
                  },
                  "kuromoji_user_dict" : {
                    "mode" : "search",
                    "type" : "kuromoji_tokenizer",
                    "discard_punctuation" : "true"
                  }
                }
              },
              "number_of_shards" : "1",
              "number_of_replicas" : "0"
            }
          },
          "mappings" : {
            "dynamic_templates" : [
              {
                "boolean" : {
                  "mapping" : {
                    "type" : "boolean"
                  },
                  "match_mapping_type" : "boolean",
                  "match" : "*_bool"
                }
              },
              {
                "date" : {
                  "mapping" : {
                    "format" : "dateOptionalTime",
                    "type" : "date"
                  },
                  "match_mapping_type" : "date",
                  "match" : "*_date"
                }
              },
              {
                "ngram" : {
                  "mapping" : {
                    "analyzer" : "my_ngram_analyzer",
                    "type" : "text"
                  },
                  "match_mapping_type" : "string",
                  "match" : "*_ngram"
                }
              },
              {
                "kuromoji" : {
                  "mapping" : {
                    "analyzer" : "kuromoji_analyzer",
                    "type" : "text"
                  },
                  "match" : "*_krmj"
                }
              },
              {
                "text" : {
                  "mapping" : {
                    "analyzer" : "my_ngram_analyzer",
                    "type" : "text",
                    "fields" : {
                      "phrase" : {
                        "analyzer" : "kuromoji_phrase_analyzer",
                        "type" : "text"
                      },
                      "kuromoji" : {
                        "analyzer" : "kuromoji_sentence_analyzer",
                        "type" : "text"
                      },
                      "text" : {
                        "type" : "text"
                      },
                      "keyword" : {
                        "type" : "keyword"
                      }
                    }
                  },
                  "match_mapping_type" : "string",
                  "match" : "*_text"
                }
              },
              {
                "txt" : {
                  "mapping" : {
                    "analyzer" : "my_ngram_analyzer",
                    "type" : "text",
                    "fields" : {
                      "kuromoji" : {
                        "analyzer" : "kuromoji_phrase_analyzer",
                        "type" : "text"
                      },
                      "keyword" : {
                        "type" : "keyword"
                      }
                    }
                  },
                  "match_mapping_type" : "string",
                  "match" : "*_txt"
                }
              },
              {
                "ip" : {
                  "mapping" : {
                    "type" : "ip"
                  },
                  "match" : "ip"
                }
              },
              {
                "ip2" : {
                  "mapping" : {
                    "type" : "ip"
                  },
                  "match" : "*_ip"
                }
              },
              {
                "string" : {
                  "mapping" : {
                    "type" : "keyword"
                  },
                  "match_mapping_type" : "string"
                }
              },
              {
                "date_raw" : {
                  "mapping" : {
                    "format" : "dateOptionalTime",
                    "type" : "date"
                  },
                  "match_mapping_type" : "date"
                }
              }
            ],
            "properties" : { }
          },
          "aliases" : { }
        },
        "composed_of" : [ ],
        "priority" : 10
      }
    }
  ]
}
